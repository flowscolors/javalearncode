你是否能预见复杂内容的设计问题？

讲道理，无论产品功能是否复杂，都有很大一部分程序员会写出一堆 if...else 来完成开发并顺利上线。这主要是原因没法预见当前的需求，发展是否长远、流量是否庞大、迭代是否迅速，所以在被催促上线的情况，不写 if...else 是不可能的！

那你说，既然 if...else 实现的这么快，还考虑数据结构、算法逻辑、设计模式、系统架构吗？当然这基本要看你的项目在可预见下能活多久，如果一个项目至少存活一年，并且在这一年中又会不断的的迭代。就像；你做了一个营销优惠券系统，在各种条件下发放各种类型的券，如果在最开始没有考虑好系统设计和架构模式，那么当活动频发、流量暴增、需求迭代下、最后你可能会挂在系统事故上！

我们在把系统设计的视角聚焦到具体代码实现上，你会有什么手段来实现你想要的设计模式呢？其实编码方式主要依托于：接口定义、类实现接口、抽象类实现接口、继承类、继承抽象类，而这些操作方式可以很好的隔离开每个类的基础功能、通用功能和业务功能，当类的职责清晰后，你的整个设计也会变得容易扩展和迭代。


设计模式是可以帮助你改善代码

很多时候你写出来的ifelse都是没有考虑使用设计模式优化，就像；同类服务的不同接口适配包装、同类物料不同组合的建造、多种奖品组合的营销工厂等等。

> 它们都可以让你代码中原本使用if判断的地方，变成一组组类和面向对象的实现过程。

实际在工作中使用的设计模式：

### 策略模式
不同的类需要不同的处理方法，比如Pod、Deployemnt、Service需要调用不同的方法。如果使用if else，则分支臃肿且不便修改。

使用起来定义一个接口（抽象类）其中有两个方法，一个是解析这个接口是哪种类的方法，一种是真正是实现类的方法即可。

最后使用可以使用一个switch，或者使用spring的ApplicationContextAware初始化到map中调用。

### 责任链模式
一个输入，需要做黑名单检验、权限检验、非空校验、责任链模式等。类似于Spring中的过滤器，只是我们可以自己实现并使用。


### 工厂模式
工厂模式一般配合策略模式一起使用。用来去优化大量的if...else...或switch...case...条件语句。
比如我需要调Harbor V1、V2、Jforg的接口完成某些工作，那我可以把所有要实现的方法放到镜像仓库接口，每个实现类中去实现对应接口。

工厂模式，定义一个创建对象的接口，让其子类自己决定实例化哪一个工厂类，工厂模式使其创建过程延迟到子类进行。
当我判断这个URL对应的接口是某种类型的接口以后，直接去build对应子类的一个实现给我，调用其逻辑完成返回。

### 单例模式
双检锁、枚举。


### 发布订阅模式
Spring内置 手写可参考

### 模板方法模式


### 责任链模式
