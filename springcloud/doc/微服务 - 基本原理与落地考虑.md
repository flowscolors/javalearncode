
首先我们微服务并非银弹，并且它并不解决业务模型、编程技术的问题。它属于提高 可靠性、可拓展性、可维护性 的一种技术。

在讨论微服务的优点之前，我们先来考虑以下几点，让我们来考虑是否已经准备好使用微服务了：

1.团队里有足够了解全部业务，并能进行持续优化微服务拆分的人吗？
微服务的划分粒度并非越小越好，并无业界统一标准。业务、组织架构、团队规模、代码规模等都会产生影响。但一定是有人要站出来划的。
并且业务需要尽量内聚，否则会破坏敏捷性、可拓展性。

2.团队准备好解决分布式引入的额外复杂性 分布式事务、分布式锁、网络通信的延迟问题吗？
分布式事务，几乎无法避免。2PC性能差，3PC不一致，TCC、SAGA到达最终一致性中间会有各种告警。当然你可以躺下，不管分布式事务，直接业务重试。
分布式锁，从JDK的锁到分布式锁，追踪策略、出现死锁怎么快速恢复。
网络通信延迟，一个jar包里service调用另一个service方法时间基本可以忽略，而一旦到网络级别，那就一定有延迟。并且需要容错方案。

2.团队里有了自动化发布平台，有多少运维人员吗？
一个单体拆成X份，发布到Y各环境的Z台主机上。如果没有自动化CICD、生产发布平台，工作量会大大增加

3.团队里有了日志、监控、链路追踪平台了吗？
这三者都属于可观测性，如果没有良好的观测平台，则出问题了都不好查。何况微服务日志多节点直接日志爆炸。

4.团队里有链路测试平台吗？
为了快速追踪定位死锁或者共享资源，微服务需要调用链实现。那有没有全链路测试平台。

3.团队里有了统一版本控制、配置管理、API网关了吗？
这几点如果没有，其实SpringCloud全家桶都可以满足基本使用，唯一的问题是团队需要专人去维护包括注册中心、配置中心、网关，
并且可能需要做二次开发或跟着开源关注下bug。如果大公司，这些中间件已经都有人维护好了，直接拿客户端用就完事了。



OK 聊完之后你是不是觉得，在一个小团队里去落地微服务是一件比较麻烦的事。当然你也可以躺下，完成部分，哪怕只完成少数部分也可以收到成效，也即你可以慢慢做。

你可以没有容器、没有日志、监控、没有自动化发布。你的注册中心、配置中心、网关直接拿开源，配置一下就上了。拆分其实大家讨论下就凑合拆了。

某种程度上大概如此也能完成需求了。





## 微服务与SOA
微服务与SOA本质上都是分布式的架构模式，但传统的基于ESB的SOA架构与微服务架构所要解决的问题并不相同。
ESB侧重异构系统的集成、调用。
微服务使用轻量级的通信协议，围绕业务进行服务拆分、解耦、复用、隔离，实现细粒度的分布式服务构建和管理。

微服务对传统SOA最大的改变是强化端点和弱化通道。抛弃ESB过于复杂的业务规则、编排、消息路由。而尽可能强调服务的自治性。