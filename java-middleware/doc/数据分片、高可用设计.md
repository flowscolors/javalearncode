

## Redis
分区分片方式：一致性hash+虚拟槽（16383），所有键根据hash函数映射到0~16383整数槽中，如果有新节点加入，其他节点会把一部分槽和数据迁移到新的节点上。

查询操作：获取值时，接受请求的节点将计算hash值，得到该值现在所在的节点，如果是自身则直接返回值。否则返回MOVE，提供目标节点IP给用户，用户再对该节点进行请求。即请求重定向。

## ES
分区分片方式：每篇文档存哪个分片通过其ID字符串的hash决定。每个节点上有同样范围的hash区域。

查询操作：搜索时，接受请求的节点将请求转发到一组包含所有数据的分片，每组分片上进行查询，并将结果转发回去。收到请求的节点会把结果聚集并返回给用户。


## Kafka
分区分片方式：

查询操作：监听时，往一个broker发送请求，建立连接。由于请求的是特定topic中甚至特定patition，对于某个partition，broker存的全部数据，不同节点只是备份，所以不存在分区的概念。

## MySQL
分区分片方式：借用中间件实现数据库分库分表，一般需要预分区。

查询操作：借用中间件实现。