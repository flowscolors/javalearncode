## 1.名词解释
| 压测名词 |   解释  |
| :----   | :---- |
| 并发(Concurrency)     |  指一个处理器同时处理多个任务的能力(逻辑上处理的能力)     |
| 并行(Parallel)        |  多个处理器或者是多核的处理器同时处理多个不同的任务(物理上同时执行)     |
| QPS(每秒钟查询数量 Query Per Second) | 服务器每秒钟处理请求数量 (req/sec  请求数/秒  一段时间内总请求数/请求时间)    |
| 事务(Transactions) | 是用户一次或者是几次请求的集合    |
| TPS(每秒钟处理事务数量 Transaction Per Second) | 服务器每秒钟处理事务数量(一个事务可能包括多个请求)    |
| 请求成功数(Request Success Number) | 在一次压测中，请求成功的数量    |
| 请求失败数(Request Failures Number) | 在一次压测中，请求失败的数量    |
| 错误率(Error Rate) | 在压测中，请求成功的数量与请求失败数量的比率  |
| 最大响应时间(Max Response Time) | 在一次压测中，从发出请求或指令系统做出的反映(响应)的最大时间  |
| 最少响应时间(Mininum Response Time) | 在一次压测中，从发出请求或指令系统做出的反映(响应)的最少时间  |
| 平均响应时间(Average Response Time) | 在一次压测中，从发出请求或指令系统做出的反映(响应)的平均时间  |


> 估算案例
> 在估算连接池最大连接数的时候，参考了业务高峰期时的请求量为 1 分钟 1.2w pv，接口平响为 1.3s（复杂的广告推广效果模拟系统，在这种场景平响高是业务所需的原因），因此 qps 为 12000*1.3\60=260。
  然后通过观察了业务日志，每次连接建立耗时 1.1s 左右,再留 70%+ 的上浮空间(怕连接数设置小出系统故障)，最大连接数估计为 2601.11.7 约等于 500。

> Qps 那里有点不同的理解：1分钟 1.2w pv 应该是 1.2w 的 qpm，也就是12000/60s=200，200 是qps
  200 qps * 1.3s = 260，这260应该是并发度，并不是qps 并发度 = qps * 平均耗时 （qps是速率，并发度是容量）
  对于这类场景前置加Throttling限流（不是RateLimiter）保护。


## 2.常用压测工具及使用
1.ab  
2.wrk  
3.locust
4.jmeter
5.云压测（阿里云 PTS、腾讯云 LM）


## 3.自己实现一个压测工具并进行压测

参考文档：  
https://github.com/shenkonghui/go-stress-testing